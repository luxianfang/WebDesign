<!doctype html>
<html>

	<head>
		<meta charset="utf-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/base.css" rel="stylesheet" />
	</head>

	<body>
		<div class="main" id="app">
			<div class="center">
				<div class="design" id="design">

				</div>

				<div style="text-align: center;">
					<button v-on:click="doSime">获取数据</button>
				</div>
				
				<div style="display: flex;width: 100%;min-height: 100px;">
					<textarea id="r" style="display: flex;width: 100%;"></textarea>
				</div>

			</div>
		</div>
		<script src="js/jquery-3.3.1.min.js"></script>
		<script src="js/vue.min.js"></script>

		<script type="text/javascript">
			var arr = [];

			function getChildren(el) {
				
				$.each(el, function(index, obj) {
					if (obj.children) {
						getChildren(obj.children);
					}
					if (obj.value != null && obj.value != undefined) {
						arr.push({
							"name": obj.name,
							"value": obj.value
						});
					}

				})
			}

			var vue = new Vue({
				el: "#app",
				data: {
					"name": "lxf"
				},
				methods: {
					doSime: function() {
						this.$data.name = 111;
						// console.log(this.$data.name)
						// console.log($('#design').children())
						arr=[];
						getChildren($('#design').children());
						console.log(arr)
						$('#r').val(JSON.stringify(arr))
					}
				},
				mounted() {
					var html = localStorage.getItem("html");
					console.log(html);
					$(".design").append(html);
				}

			})



			// function elClick(){
			// 	console.log(1)
			// }
		</script>
	</body>

</html>
